The OneGeology website is at http://www.onegeology.org. Content for the website is first put up at the beta site http://nercbgskwicms:98/home.html for review before being copied across to the external site by the BGS web team. Content for the beta site can be edited at `\\nercbgskwicms\WWW_SITES\onegeology\wwwroot`. Under its current structure the content generated by this cookbook documentation project should be synchronised with the `\\nercbgskwicms\WWW_SITES\onegeology\wwwroot\use` and `\\nercbgskwicms\WWW_SITES\onegeology\wwwroot\service_provision` directories. Other pages outside these directories may need to be edited to link to the cookbook documentation (for example `\\nercbgskwicms\WWW_SITES\onegeology\wwwroot\home_menu.inc` to change main site menu links). Changes to pages other than those generated by this cookbook project should be done in consultation with BGS web team staff with responsibility for the OneGeology website. 

Non-cookbook pages are not version controlled but there is an `\\nercbgskwicms\WWW_SITES\onegeology\archive` directory for old content.

The beta site content is only accessible inside BGS. Major changes to the site may need OneGeology board approval. In the past this has been done by making the beta site content temporarily accessible at http://onegeoldev.bgs.ac.uk.

When building the pages for publication two settings in the [/use/source/conf.py](/use/source/conf.py) and [service_provision/source/conf.py](service_provision/source/conf.py) files must be set as follows:

* `todo_include_todos` should be set to `False` so that authoring notes aren't included.
* `html_theme_options{"finaldeploy"}` should be set to `True` so that the HTML pages use include statements to include standard boilerplate sections from the main site. These boilerplate sections generally link to javascript and CSS files to give the "OneGeology" site look. This only works on the beta or external websites. For local builds or GitLab pages builds it is better to have finaldeploy set to `False` which will use local copies of the website include files to link to CSS and javascript files located on the host defined by `html_theme_options{"sharedroot"}`. If the standard include files on the external website are changed then the appearance of local or GitLab pages builds may not be exactly the same until the theme templates in this git repository are altered to match.
